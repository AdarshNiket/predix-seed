<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/px-context-browser/px-context-browser.html">
<link rel="import" href="../../bower_components/px-deck-selector/px-deck-selector.html">
<link rel="import" href="../../bower_components/px-card/px-dashboard.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html" />


<!-- this element loads another element and appends it to #element -->
<dom-module id="dashboards-view">

  <template>
    <h1>Dashboards View</h1>
    <iron-ajax url="/direct-context.json" last-response="{{browserContext}}" auto></iron-ajax>
    <px-context-browser
      browser-context="{{browserContext}}">
      <px-deck-selector
        decks="{{decks}}"
        selected-deck="{{selectedDeck}}"></px-deck-selector>
    </px-context-browser>
    <px-dashboard view-service-base-url="{{viewServiceBaseUrl}}" selected-deck-id="{{selectedDeck.id}}" context="{{context}}"></px-dashboard>
  </template>

  <script>
    Polymer({
      is: 'dashboards-view',
      properties: {},
      ready: function() {
        // console.log('dashboards-view', this);
      }
    });
  </script>

</dom-module>
