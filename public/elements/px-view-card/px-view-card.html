<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="/bower_components/px-view/px-view.html">

<dom-module id="px-view-card">
  <template>
    <px-view
      active="[[_cardActive]]"
      element-href="[[_cardElementHref]]">
    </px-view>
  </template>
  <script>
    Polymer({

      is: 'px-view-card',

      properties: {
        cardData: {
          type: Object,
          value: function() { return {}; }
        },
        _cardActive: {
          type: Boolean,
          value: true
        },
        _cardElementHref: {
          type: String,
          computed: '_computeCardElementHref(cardData)'
        }
      },

      _computeCardElementHref: function() {
        if(Object.keys(this.cardData).length) {
          if(this.cardData.attributes.elementHref) {
            return this.cardData.attributes.elementHref;
          } else {
            return '/elements/cards/' + this.cardData.slug + '.html'
          }
        }
      }

    });
  </script>
</dom-module>
