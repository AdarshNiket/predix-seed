<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="px-deck.html">

<dom-module id="px-deck-index">

  <template>

    <template id="decks" is="dom-repeat" items="{{_decks}}" filter="_filterDecks">
      <px-deck id="[[item.id]]" deck-data="[[item]]"></px-deck>
    </template>

  </template>

  <script>
    Polymer({

      is: 'px-deck-index',

      properties: {
        deckId: {
          type: String
        },
        _decks: {
          type: Array,
          value: []
        }
      },

      observers: [
        '_refreshFilter(deckId)'
      ],


      _deckIsVisible: function(deckId) {
        return this.deckId === deckId;
      },

      _filterDecks: function(deck) {
        return this._deckIsVisible(deck.id);
      },

      _refreshFilter: function() {
        this.$.decks.render();
      },

    });
  </script>

</dom-module>
