<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      background: white;
    }
    body.loading #splash {
      opacity: 1;
    }
    #splash {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      transition: opacity 300ms cubic-bezier(0,0,0.2,1);
      opacity: 0;
      will-change: opacity;
      z-index: 1;
      background: hotpink;
    }
  </style>

  <!-- 1. Async HTML Imports do not block rending. Benefit of keeping it declarative
       (instead of dynamically loading it later in JS) is that the parser can go
       to town pre-fetching resources, etc. -->
  <link rel="import" id="elements" href="elements/elements.html" async>
</head>
<!-- 2. Don't use <body unresolved>. It's a simple FOUC (Flash of Unstyled Content) solution,
     however it hides all of the page, causing a FONC "Flash of No Content" until the imports and
     Polymer are loaded. Intead, control FOUC manually with a splash screen. -->
<body class="loading">
  <!-- 3. Light weight splash screen is outside of Polymer/imports and styled by
       the main page. 1st paint is fast, even on polyfilled browsers. Alternatively,
       one could create an "app shell" and style the page's un-upgraded elements
       similar to their final upgraded version. -->
  <div id="splash"></div>

  <!-- Elements wait on the page and are upgraded when elements.html loads. -->
  <template is="dom-bind" id="app">
    <h1>app.webComponentsReady: {{webComponentsReady}}</h1>
    <px-login id="login" login-url="login-demo.html" logout-url="logout-demo.html"
      user-info-url="userinfo.json"
      menu-items='[
        { "url": "/system-preferences", "label": "System Preferences"},
        { "url": "/group-preferences", "label": "Group Preferences"},
        { "url": "/user-preferences", "label": "User Preferences"}
      ]'>
    </px-login>
  </template>
  <!--
  <paper-drawer-panel>
    ...
  </paper-drawer-panel>
  -->

  <script src="scripts/app.js" async></script>
</body>
</html>
