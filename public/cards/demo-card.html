<link rel="import" href="../bower_components/polymer/polymer.html"/>
<link rel="import" href="../bower_components/px-card/px-card.html"/>
<link rel="import" href="../bower_components/px-card/px-card-behavior.html"/>

<!--
  Steps for creating a Predix card.
    1. Create a Polymer web component.
    2. Wrap it in px-card.
    3. Use the px.cardBehavior
    4. Compose widgets and ui-elements together to create your custom card.  Implement px.cardBehavior API methods
        such as refresh and contextChanged, or call methods like getData.  -->
<dom-module id="demo-card">
    <template>
        <px-card>
            <h1>Hello World</h1>
            <p>{{context.name}}</p>
            <p>This is the bare minimum you need for a Predix Experience card.</p>
            <button on-click="updateDeck">update</button>
        </px-card>
    </template>
</dom-module>
<script>
    Polymer({
        is: 'demo-card',
        properties: {
            state: {
                type: Object,
                observer: 'stateChanged'
            }
        },
        stateChanged: function(newState, oldState){
            console.log('new state', newState);
        },
        updateDeck: function(){
            this.findParentDeck().updateState(1);
        },
        ready: function(){

        },
        findParentDeck: function(){
            var parent = this.parentElement;
            return parent;
        },
        behaviors: [px.cardBehavior]
    });
</script>
